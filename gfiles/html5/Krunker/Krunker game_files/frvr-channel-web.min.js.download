!function(e){"use strict";var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},t(e,i)};function i(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}var n=function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};function o(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{d(n.next(e))}catch(e){r(e)}}function a(e){try{d(n.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))}function r(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}function s(e,t,i){if(i||2===arguments.length)for(var n,o=0,r=t.length;o<r;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}var a,d,l,u=function(){function e(){var e=this;this._promise=new Promise((function(t,i){e._resolve=t,e._reject=i}))}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}(),c=function(){function e(){}return e.isCrossDomainFrame=function(){if(window.parent===window)return!1;var e=new URL(window.document.referrer);return e.protocol!==window.location.protocol||e.hostname!==window.location.hostname||e.port!==window.location.port},e.getBrowserWidth=function(){var t,i,n=e.isCrossDomainFrame()?window:window.top||window,o=n.outerWidth||9999;return i=void 0!==n.innerWidth?n.innerWidth:void 0!==n.document.documentElement&&void 0!==n.document.documentElement.clientWidth&&0!==n.document.documentElement.clientWidth?n.document.documentElement.clientWidth:null===(t=n.document.body)||void 0===t?void 0:t.clientWidth,Math.min(i,o)},e.getBrowserHeight=function(){var t,i,n=e.isCrossDomainFrame()?window:window.top||window,o=n.outerHeight||9999;return i=void 0!==n.innerHeight?n.innerHeight:void 0!==n.document.documentElement&&void 0!==n.document.documentElement.clientHeight&&0!==n.document.documentElement.clientHeight?n.document.documentElement.clientHeight:null===(t=n.document.body)||void 0===t?void 0:t.clientHeight,Math.min(i,o)},e.isInterstitial=function(e){return e.ortb2Imp&&e.ortb2Imp.instl&&1===e.ortb2Imp.instl},e.filterAdUnitSizes=function(t,i,n,o){var r=i.mediaTypes||{},s=e.isInterstitial(i);n=n||e.getBrowserWidth(),o=o||e.getBrowserHeight(),r.banner&&(Array.isArray(r.banner.sizes)&&r.banner.sizes.length>0||(r.banner.sizes=t.banner),s&&(n*=.9,o*=.9),r.banner.sizes=e.filterSizesArray(r.banner.sizes,n,o)),r.video&&(r.video.playerSize&&Array.isArray(r.video.playerSize)&&r.video.playerSize.length>0||(r.video.playerSize=e.filterSizesArray(t.video,n,o)[0]))},e.generateUUID=function(){if(window.crypto&&window.crypto.randomUUID)return window.crypto.randomUUID();var e=(new Date).getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(i){var n=16*Math.random();return e>0?(n=(e+n)%16|0,e=Math.floor(e/16)):(n=(t+n)%16|0,t=Math.floor(t/16)),("x"===i?n:3&n|8).toString(16)}))},e.loadScript=function(e){var t=document.createElement("script");return t.type="text/javascript",t.async=!0,t.src=e,document.head.appendChild(t)},e.overridePollfishContainerZIndex=function(e){var t=document.getElementById("pollfishSurveyContainer");t&&(t.style["z-index"]=e)},e.loadGPT=function(t){if(!e.gptLoaded){if(window.googletag&&window.googletag.apiReady)return;var i=e.DEFAULT_GPT_URL,n=e.DEFAULT_PUBADS_URL;t&&(t.url&&(i=t.url),t.pubadsUrl&&(n=t.pubadsUrl)),e.loadScript(i),e.loadScript(n),e.gptLoaded=!0}},e.loadPrebid=function(t){if(!e.prebidLoaded){var i=e.DEFAULT_PREBID_URL;t&&t.url&&(i=t.url),e.loadScript(i),e.prebidLoaded=!0}},e.loadPollfish=function(t){if(!e.pollfishLoaded){var i=e.DEFAULT_JQUERY_URL,o=e.DEFAULT_POLLFISH_SDK_URL;t&&(t.jqueryUrl&&(i=t.jqueryUrl),t.pollfishSdkUrl&&(o=t.pollfishSdkUrl)),e.loadScript(i).onload=function(){e.loadScript(o)},window.pollfishConfig=n(n({},window.pollfishConfig||{}),{api_key:t.apiKey,debug:!!t.debug}),e.pollfishLoaded=!0}},e.loadIMA=function(t){if(!e.imaLoaded){var i=e.DEFAULT_IMA_URL;t&&t.url&&(i=t.url);var n=e.loadScript(i);n.onerror=function(t){e.imaReady.reject(t)},n.onload=function(){e.imaReady.resolve()},e.imaLoaded=!0}},e.loadApsTag=function(t){!e.apsTagLoaded&&t&&t.pubID&&(!function(e,i,n,o,r,s,a){function d(t,n){i[e]._Q.push([t,n])}i[e]||(i[e]={init:function(){d("i",arguments)},fetchBids:function(){d("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(s=n.createElement(o)).async=!0,s.src="//c.amazon-adsystem.com/aax2/apstag.js",(a=n.getElementsByTagName(o)[0]).parentNode.insertBefore(s,a),i[e].init({pubID:t.pubID,adServer:"googletag",videoAdServer:"DFP"}))}("apstag",window,document,"script"),e.apsTagLoaded=!0)},e.onIMAReady=function(){return this.imaReady.promise},e.initializePrebid=function(t){var i=(t=t||{}).config||{},n=t.analytics||{},o=e.getPrebidS2SAliases(null==i?void 0:i.s2sConfig);o&&o.length&&window.pbjs.que.push((function(){o.forEach((function(e){var t;null===(t=window.pbjs)||void 0===t||t.aliasBidder(e.bidder,e.alias)}))})),window.pbjs.que.push((function(){e.prebidInitialized||(n&&n.enabled&&window.pbjs.que.push((function(){window.pbjs.enableAnalytics({provider:n.provider,options:n.options})})),window.pbjs.setConfig(i),e.prebidInitialized=!0)}))},e.setPrebidPageUrl=function(e){e&&window.pbjs&&window.pbjs.que&&window.pbjs.que.push((function(){window.pbjs.setConfig({pageUrl:e})}))},e.addPrebidAdUnit=function(e){window.pbjs.que.push((function(){window.pbjs.addAdUnits(e)}))},e.stringToHTMLElement=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},e.isIMAPresent=function(){return window.google&&window.google.ima},e.toUrlQueryParameters=function(e){var t=[];for(var i in e)({}).hasOwnProperty.call(e,i)&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")},e.extractParamsFromUrl=function(t){var i=t.split("?");return 2===i.length?e.parseParameters(i[1]):{}},e.parseParameters=function(e){return function(e){var t={};return e.replace(/([^=&]+)=([^&]*)/g,(function(e,i,n){var o=decodeURIComponent(n);o&&"undefined"!==o&&(t[decodeURIComponent(i)]=decodeURIComponent(n))})),t}(e)},e.isHTMLElementInViewport=function(e){var t,i;if(!e)return!1;if(window){var n=e.getBoundingClientRect(),o=window.innerHeight||(null===(t=window.document.documentElement)||void 0===t?void 0:t.clientHeight),r=window.innerWidth||(null===(i=window.document.documentElement)||void 0===i?void 0:i.clientWidth),s=n.top<=o&&n.top+n.height>=0,a=n.left<=r&&n.left+n.width>=0;return n.bottom>0&&n.right>0&&s&&a}return!1},e.isHTMLElementVisible=function(t){return!!t&&(!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&e.isHTMLElementInViewport(t))},e.isTabVisible=function(){var e;return"hidden"!==(null===(e=null===window||void 0===window?void 0:window.document)||void 0===e?void 0:e.visibilityState)},e.isFunction=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},e.toUAMAdUnit=function(t){var i,n,o,r,s=e.isFunction(t.code)?t.code():t.code;return{slotName:s,slotID:s,sizes:(null===(n=null===(i=t.mediaTypes)||void 0===i?void 0:i.banner)||void 0===n?void 0:n.sizes)||[].concat(null===(r=null===(o=t.mediaTypes)||void 0===o?void 0:o.video)||void 0===r?void 0:r.playerSize)}},e.mergeVendorConsents=function(e,t){null!=e||(e={}),null!=t||(t={});var i=n(n({},e),t);return Object.keys(i).forEach((function(n){i[n]=!!e[n]||!!t[n]})),i},e.adUnitPath2NetworkAndCode=function(e){var t=(e||"").split("/").filter(Boolean);return t.length>=2?{network:t[0],code:t[t.length-1]}:null},e.getPrebidS2SAliases=function(e){var t=[];return e&&e.length&&e.forEach((function(e){var i;if(e.enabled&&(null===(i=e.extPrebid)||void 0===i?void 0:i.aliases)){var n=Object.keys(e.extPrebid.aliases).map((function(t){return{bidder:e.extPrebid.aliases[t],alias:t}}));t=t.concat(n)}})),t},e.filterSizesArray=function(e,t,i){var n=[];return e.forEach((function(e){e[0]<=t&&e[1]<=i&&n.push(e)})),n},e.imaReady=new u,e.GOOGLE_VENDOR_ID=755,e.TCF_P1_CONSENT=1,e.TCF_P4_CONSENT=4,e.DEFAULT_GPT_URL="https://fran-cdn.frvr.com/gpt_2023022201.js",e.DEFAULT_PUBADS_URL="https://fran-cdn.frvr.com/pubads_2023022201.js",e.DEFAULT_PREBID_URL="https://fran-cdn.frvr.com/prebid.7.23.0.js",e.DEFAULT_IMA_URL="https://imasdk.googleapis.com/js/sdkloader/ima3.js",e.DEFAULT_JQUERY_URL="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js",e.DEFAULT_POLLFISH_SDK_URL="https://storage.googleapis.com/pollfish_production/sdk/webplugin/pollfish.min.js",e.prebidLoaded=!1,e.prebidInitialized=!1,e.gptLoaded=!1,e.imaLoaded=!1,e.apsTagLoaded=!1,e.pollfishLoaded=!1,e}();!function(e){e.INTERSTITIAL="interstitial",e.REWARD="reward",e.BANNER="banner",e.SURVEY="survey",e.REWARDED_INTERSTITIAL="rewarded-interstitial"}(d||(d={})),(a={})[d.INTERSTITIAL]={stopsGameFlow:!0,throttleable:!0},a[d.REWARD]={stopsGameFlow:!0,throttleable:!1},a[d.BANNER]={stopsGameFlow:!1,throttleable:!1},a[d.SURVEY]={stopsGameFlow:!0,throttleable:!0},a[d.REWARDED_INTERSTITIAL]={stopsGameFlow:!0,throttleable:!0},function(e){e.DEVELOPMENT="dev",e.BETA="beta",e.PRODUCTION="prod"}(l||(l={}));var h,p={log:function(){},error:function(){},warn:function(){},info:function(){},debug:function(){}},g=function(){function e(e){var t=e.provider,i=e.logger;this.provider=t,this.logger=i||p}return e.prototype.setItems=function(e){var t=e.map((function(e){var t=e.key,i=e.value;return{key:t,value:JSON.stringify(i)}}));return this.provider.setItems(t)},e.prototype.getItems=function(e){return o(this,void 0,void 0,(function(){var t,i,n;return r(this,(function(o){switch(o.label){case 0:return[4,this.provider.getItems(e)];case 1:for(n in t=o.sent(),i={},t)try{i[n]=JSON.parse(t[n])}catch(e){this.logger.error("[storage] parsing error on key ".concat(n),e.message)}return[2,i]}}))}))},e.prototype.removeItems=function(e){return this.provider.removeItems(e)},e.prototype.setItem=function(e,t){return this.provider.setItems([{key:e,value:JSON.stringify(t)}])},e.prototype.getItem=function(e,t){return o(this,void 0,void 0,(function(){var i,n,o;return r(this,(function(r){switch(r.label){case 0:return[4,this.provider.getItems([e])];case 1:i=r.sent();try{o=i[e],n=void 0!==o?JSON.parse(o):t}catch(i){n=t,this.logger.error("[storage] parsing error on key ".concat(e),i.message)}return[2,n]}}))}))},e.prototype.removeItem=function(e){return o(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.provider.removeItems([e])]}))}))},e.prototype.isPersistent=function(){return this.provider.isPersistent()},e}(),f=function(){function e(){this.values={}}return e.prototype.setItems=function(e){return o(this,void 0,void 0,(function(){var t,i,n;return r(this,(function(o){for(t=0,i=e;t<i.length;t++)n=i[t],this.values[n.key]=n.value;return[2]}))}))},e.prototype.getItems=function(e){return o(this,void 0,void 0,(function(){var t,i,n,o,s;return r(this,(function(r){for(t={},i=0,n=e;i<n.length;i++)o=n[i],void 0!==(s=this.values[o])&&(t[o]=s);return[2,t]}))}))},e.prototype.removeItems=function(e){return o(this,void 0,void 0,(function(){var t,i,n;return r(this,(function(o){for(t=0,i=e;t<i.length;t++)n=i[t],delete this.values[n];return[2]}))}))},e.prototype.isPersistent=function(){return!1},e.providerName="memory",e}();new g({provider:new f}),function(e){e[e.None=0]="None",e[e.P1StoreInformationOnADevice=2]="P1StoreInformationOnADevice",e[e.P2SelectBasicAds=4]="P2SelectBasicAds",e[e.P3PersonalizedAdsProfile=8]="P3PersonalizedAdsProfile",e[e.P4PersonalizedAds=16]="P4PersonalizedAds",e[e.P5PersonalizedContentProfile=32]="P5PersonalizedContentProfile",e[e.P6PersonalizedContent=64]="P6PersonalizedContent",e[e.P7MeasureAdPerformance=128]="P7MeasureAdPerformance",e[e.P8MeasureContentPerformance=256]="P8MeasureContentPerformance",e[e.P9MarketResearchForAudienceInsights=512]="P9MarketResearchForAudienceInsights",e[e.P10DevelopAndImproveProducts=1024]="P10DevelopAndImproveProducts",e[e.All=2046]="All"}(h||(h={}));var v,m,w,y,b,A={consentToTerms:function(){},onConsentChanged:function(e){},hasConsentForAll:function(e,t){return!0},hasConsentForAny:function(e,t){return!0},consents:function(){return h.All},legitimateInterests:function(){return h.All},hasLoaded:function(){return!0}};!function(e){e.AD_CLOSED="adclosed",e.AD_LEAVING_APPLICATION="adleavingapplication",e.CANCELED="canceled",e.ERROR="error",e.INTERNAL_ERROR="internalerror",e.INVALID_REQUEST="invalidrequest",e.NETWORK_ERROR="networkerror",e.NOFILL="nofill",e.SUCCESS="success",e.THROTTLED="throttled",e.TIMEOUT="timeout"}(m||(m={})),function(e){e.ERROR="error",e.NOFILL="nofill",e.SKIPPED="skipped",e.SUCCESS="success",e.TIMEDOUT="timedout"}(w||(w={})),(v={})[d.INTERSTITIAL]="mandatory",v[d.REWARD]="rewarded",function(e){e.DELIVERED="delivered",e.COMPLETED="completed"}(y||(y={})),function(e){e.ON_LOAD="on_load",e.ON_SHOW="on_show",e.BLOCKED="blocked",e.NOFILL="nofill",e.TIMED_OUT="timed_out"}(b||(b={}));var P,E,S,I,T=function(){function e(e){this.type=e}return e.prototype.getName=function(){return"dev"},e.prototype.getType=function(){return this.type},e.prototype.isReady=function(){return!0},e.prototype.useManualControl=function(){return!1},e.prototype.init=function(e,t,i){var n=this;return this.tracker=i,new Promise((function(e){setTimeout((function(){console.log("[dev] ".concat(n.type," ad initialised")),e()}),100)}))},e.prototype.show=function(){var e,t,i,n,o;null===(e=this.tracker)||void 0===e||e.requestingAd(),null===(t=this.tracker)||void 0===t||t.receivedAdResponse(m.SUCCESS),null===(i=this.tracker)||void 0===i||i.willShowAd(!1),console.log("[dev] ".concat(this.type," ad displayed"));var r=confirm("Want to check out this ad?");r?(console.log("[dev] ".concat(this.type," ad checked")),null===(n=this.tracker)||void 0===n||n.finishedAd(w.SUCCESS)):(console.log("[dev] ".concat(this.type," ad skipped/dismissed")),null===(o=this.tracker)||void 0===o||o.finishedAd(w.SKIPPED));var s={success:!0,code:r?y.COMPLETED:y.DELIVERED};return Promise.resolve(s)},e}();!function(e){function t(){return e.call(this,d.INTERSTITIAL)||this}i(t,e)}(T),function(e){function t(){return e.call(this,d.REWARD)||this}i(t,e)}(T),function(e){e[e.NO_THROTTLING=0]="NO_THROTTLING",e.INIT_TIME="INIT_TIME",e.FREQUENCY="FREQUENCY"}(P||(P={})),function(e){e.NOT_DISPLAYED="not_displayed",e.DELIVERED="delivered",e.COMPLETED="completed"}(E||(E={})),function(e){e.DISPLAY="display",e.VIDEO="video",e.SURVEY="survey"}(S||(S={})),function(e){e.IDFA="idfa",e.GAID="gaid",e.SAMSUNG="tifa"}(I||(I={}));var C=function(){function e(){}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.debug(JSON.stringify(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error(JSON.stringify(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.info(JSON.stringify(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log(JSON.stringify(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn(JSON.stringify(e))},e}();window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var U=function(){function e(e,t,i){this.PROVIDER="fran",this.DEFAULT_REFRESH_INTERVAL=61e3,this.hasP1Consent=!0,this.hasP4Consent=!0,this.isInitialized=!1,this.isAdAvailable=!1,this.isPreloadingAd=!1,this.defaultSizes={banner:[[1024,768],[768,1024],[480,320],[336,280],[320,480],[300,600],[300,250],[250,250],[728,90]],video:[[1024,768],[768,1024],[640,480],[640,390],[640,360],[480,320],[400,300],[400,225],[390,640],[320,480]]},this.volume=1,this.defaultTimeoutMS=2500,this.preloadTimeout=null,this.type=e,this.mediaType=t,this.logger=i||new C}return e.prototype.getName=function(){return this.PROVIDER+"#"+this.mediaType},e.prototype.getType=function(){return this.type},e.prototype.useManualControl=function(){return!1},e.prototype.init=function(e,t,i){var n,s,a,l,u,h,p;return o(this,void 0,void 0,(function(){var o,g=this;return r(this,(function(r){if(this.controls=t,this.tracker=i,!((o=e.config).adUnit||o.adUnits&&Array.isArray(o.adUnits)&&0!==o.adUnits.length))throw null===(n=this.logger)||void 0===n||n.error("".concat(this.getFullName(),": adUnit or adUnits is required")),new Error("".concat(this.getFullName(),": adUnit or adUnits is required"));return o.adUnit&&(null!==(s=(h=o.adUnit).timeout)&&void 0!==s||(h.timeout=(null===(l=null===(a=null===window||void 0===window?void 0:window.pbjs)||void 0===a?void 0:a.getConfig)||void 0===l?void 0:l.call(a,"bidderTimeout"))||this.defaultTimeoutMS),o.adUnit.code=c.isFunction(o.adUnit.code)?o.adUnit.code():o.adUnit.code,null!==(u=(p=o.adUnit).uam)&&void 0!==u||(p.uam=!!window.apstag)),o.adUnits&&o.adUnits.forEach((function(e){return e.code=c.isFunction(e.code)?e.code():e.code})),this.config=JSON.parse(JSON.stringify(o)),this.adUnit=o.adUnit,this.adUnits=this.config.adUnits,window.addEventListener("resize",(function(){g.reset()})),this.adUnit&&this.type!=d.BANNER&&c.filterAdUnitSizes(this.defaultSizes,this.adUnit),this.isInitialized=!0,[2]}))}))},e.prototype.show=function(){var e,t;return o(this,void 0,void 0,(function(){return r(this,(function(i){return this.isInitialized?this.isAdAvailable?[2,{success:!0,code:y.COMPLETED}]:(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": no ad available")),[2,{success:!1,code:b.ON_SHOW,message:"".concat(this.getFullName(),": no ad available")}]):(null===(e=this.logger)||void 0===e||e.error("".concat(this.getFullName(),": not initialized, call init()")),[2,{success:!1,code:b.ON_SHOW,message:"".concat(this.getFullName(),": not initialized, call init()")}])}))}))},e.prototype.preload=function(){var e,t,i;return o(this,void 0,void 0,(function(){var n=this;return r(this,(function(o){return this.isInitialized?this.isAdAvailable?(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": an ad is already available")),[2,{success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": an ad is already available")}]):(this.isPreloadingAd||(this.isAdAvailable=!1,this.isPreloadingAd=!0,setTimeout((function(){n.isPreloadingAd&&n.reset()}),5e3),null===(i=this.logger)||void 0===i||i.debug("".concat(this.getFullName(),": preloading ad"))),[2,{success:!0,code:y.DELIVERED}]):(null===(e=this.logger)||void 0===e||e.error("".concat(this.getFullName(),": not initialized, call init()")),[2,{success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": not initialized, call init()")}])}))}))},e.prototype.reset=function(){this.isPreloadingAd=!1,this.isAdAvailable=!1},e.prototype.getFullName=function(){return this.getName()+"#"+this.getType()},e.prototype.getMediaType=function(){return this.mediaType},e.prototype.getUserP1Consent=function(){return this.hasP1Consent},e.prototype.setUserP1Consent=function(e){this.hasP1Consent=e},e.prototype.getUserP4Consent=function(){return this.hasP1Consent},e.prototype.setUserP4Consent=function(e){this.hasP4Consent=e},e.prototype.getVendorConsent=function(e){return!this.vendorConsents||this.vendorConsents[e]},e.prototype.setVendorConsents=function(e){this.vendorConsents=e},e.prototype.setDeviceId=function(e){this.deviceId=e},e.prototype.setPublisherProvidedId=function(e){this.ppid=e},e.prototype.getDeviceIdTargeting=function(){if(!this.deviceId)return null;var e={rdid:this.deviceId.value,is_lat:this.getUserP1Consent()?"0":"1"};switch(this.deviceId.type){case I.IDFA:return e.idtype="idfa",e;case I.GAID:return e.idtype="adid",e;case I.SAMSUNG:return e.idtype="tifa",e;default:return null}},e.prototype.getVolume=function(){return this.volume},e.prototype.setVolume=function(e){(e<0||e>1)&&(e=1),this.volume=e},e.prototype.getAdUnitCode=function(){return this.adUnit?c.isFunction(this.adUnit.code)?this.adUnit.code():this.adUnit.code:this.adUnits?this.adUnits.map((function(e){return e.code})).join(","):void 0},e}(),L=function(e){function t(t,i){var n=e.call(this,t,S.DISPLAY,i)||this;return n.adPreloading=null,n.adSlot=null,n}return i(t,e),t.prototype.init=function(t,i,n){return o(this,void 0,void 0,(function(){var o=this;return r(this,(function(r){switch(r.label){case 0:return[4,e.prototype.init.call(this,t,i,n)];case 1:return r.sent(),window.googletag.cmd.push((function(){o.config.pageUrl&&window.googletag.pubads().set("page_url",o.config.pageUrl),window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t,i,n,r;o.adSlot===e.slot&&(o.isAdAvailable=!e.isEmpty,o.isPreloadingAd=!1,o.isAdAvailable?(null===(t=o.logger)||void 0===t||t.debug("".concat(o.getFullName(),": ad filled")),null===(i=o.tracker)||void 0===i||i.receivedAdResponse(m.SUCCESS,o.getAdUnitCode(),o.getAdSlotTargeting())):(null===(n=o.logger)||void 0===n||n.debug("".concat(o.getFullName(),": unable to load ad")),null===(r=o.tracker)||void 0===r||r.receivedAdResponse(m.NOFILL,o.getAdUnitCode(),o.getAdSlotTargeting()),o.adPreloading&&(o.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(o.getFullName(),": unable to load ad")}),o.adPreloading=null)))})),window.googletag.pubads().disableInitialLoad(),window.googletag.pubads().enableSingleRequest(),window.googletag.enableServices(),o.config.pageUrl&&c.setPrebidPageUrl(o.config.pageUrl)})),[2]}}))}))},t.prototype.reset=function(){e.prototype.reset.call(this),this.adSlot&&window.googletag.destroySlots([this.adSlot]),this.adPreloading&&(this.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to load ad")}),this.adPreloading=null)},t.prototype.isReady=function(){return c.gptLoaded},t.prototype.setTargeting=function(e){var t,i,n;this.adSlot&&((null===(t=this.config)||void 0===t?void 0:t.customTargeting)&&this.addAdSlotTargeting(this.config.customTargeting),this.deviceId&&this.addAdSlotTargeting(this.getDeviceIdTargeting()),this.ppid&&(null===(n=null===(i=null===window||void 0===window?void 0:window.googletag)||void 0===i?void 0:i.pubads)||void 0===n||n.call(i).setPublisherProvidedId(this.ppid)),e&&this.addAdSlotTargeting(e))},t.prototype.getAdSlotTargeting=function(){if(this.adSlot&&this.adSlot.getTargetingMap()){var e={},t=this.adSlot.getTargetingMap();for(var i in t)if({}.hasOwnProperty.call(t,i)){var n=t[i];e[i]=Array.isArray(n)?n.join():n}return e}return{}},t.prototype.addAdSlotTargeting=function(e){if(e&&"object"==typeof e&&this.adSlot&&this.adSlot.setTargeting)for(var t in e)e.hasOwnProperty(t)&&this.adSlot.setTargeting(t,e[t])},t}(U),D=function(e){function t(t){var i=e.call(this,d.INTERSTITIAL,t)||this;return i.adShownPromise=null,i}return i(t,e),t.prototype.init=function(t,i,n){return o(this,void 0,void 0,(function(){var o=this;return r(this,(function(r){switch(r.label){case 0:return[4,e.prototype.init.call(this,t,i,n)];case 1:if(r.sent(),this.clearStorage(),this.at=this.addDOMElements(),!this.at)throw this.isInitialized=!1,new Error("".concat(this.getFullName(),": unable to add required dom elements"));return window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){o.adSlot===e.slot&&(o.isAdAvailable=!e.isEmpty,o.isAdAvailable&&o.adPreloading&&(o.adPreloading.resolve({success:!0,code:y.DELIVERED}),o.adPreloading=null))}))})),window.addEventListener("gpt-interstitial-ad-closed",(function(){var e,t;if(o.isAdAvailable=!1,null===(e=o.tracker)||void 0===e||e.finishedAd(w.SUCCESS,o.getAdUnitCode(),o.getAdSlotTargeting()),o.adShownPromise){var i={success:!0,code:y.COMPLETED};o.adShownPromise.resolve(i),o.adShownPromise=null}null===(t=o.logger)||void 0===t||t.debug("".concat(o.getFullName(),": ad closed"))})),c.addPrebidAdUnit(this.adUnit),[2]}}))}))},t.prototype.preload=function(){var t,i;return o(this,void 0,void 0,(function(){var n,o,s,a,d,l,h,p=this;return r(this,(function(r){switch(r.label){case 0:return[4,e.prototype.preload.call(this)];case 1:return n=r.sent(),this.clearStorage(),n&&n.success?this.getUserP1Consent()&&this.getVendorConsent(c.GOOGLE_VENDOR_ID)?this.adPreloading?(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": already loading an ad")),[2,{success:!0,code:y.DELIVERED}]):(o={aps:!1,prebid:!1},s=c.generateUUID(),a=function(){o.aps&&o.prebid&&d()},d=function(){window.googletag.cmd.push((function(){var e;window.googletag.pubads().setRequestNonPersonalizedAds(p.getUserP4Consent()?0:1),window.googletag.pubads().setPrivacySettings({limitedAds:!p.getUserP1Consent()});try{p.setTargeting({hb_aid:s}),window.googletag.pubads().refresh([p.adSlot])}catch(t){p.isPreloadingAd=!1,p.isAdAvailable=!1,null===(e=p.logger)||void 0===e||e.error(t),p.adPreloading&&(p.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(p.getFullName(),": unable to send request to ad server - ").concat(t)}),p.adPreloading=null)}}))},l=function(){if(!(p.adUnit&&p.adUnit.bids&&p.adUnit.bids.length&&window.pbjs))return o.prebid=!0,void a();window.pbjs.que.push((function(){var e={auctionId:s,timeout:p.adUnit.timeout,adUnits:[p.adUnit],bidsBackHandler:function(){window.pbjs.initAdserverSet=!0,window.pbjs.setTargetingForGPTAsync(),o.prebid=!0,a()}};try{window.pbjs.requestBids(e)}catch(e){o.prebid=!0,a()}}))},h=function(){if(!(p.adUnit&&p.adUnit.uam&&window.apstag))return o.aps=!0,void a();var e=c.toUAMAdUnit(p.adUnit);e.slotID=p.adSlot.getSlotElementId(),window.apstag.fetchBids({slots:[e],timeout:p.adUnit.timeout},(function(){window.googletag.cmd.push((function(){window.apstag.setDisplayBids(),o.aps=!0,a()}))}))},null===(i=this.tracker)||void 0===i||i.requestingAd(this.getAdUnitCode(),{hb_aid:s}),window.googletag.cmd.push((function(){var e;if(window.googletag.destroySlots([p.adSlot]),p.adSlot=window.googletag.defineOutOfPageSlot(p.getAdUnitCode(),window.googletag.enums.OutOfPageFormat.INTERSTITIAL),!p.adSlot)return null===(e=p.logger)||void 0===e||e.debug("".concat(p.getFullName(),": unable to create ad slot")),p.isPreloadingAd=!1,p.isAdAvailable=!1,void(p.adPreloading&&(p.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(p.getFullName(),": unable to create ad slot")}),p.adPreloading=null));p.adSlot.addService(window.googletag.pubads()),l(),h()})),this.adPreloading=new u,[2,this.adPreloading.promise]):[2,{success:!1,code:b.ON_SHOW,message:"missing required vendor consent"}]:[2,n]}}))}))},t.prototype.show=function(){return o(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return this.isAdAvailable?[3,2]:[4,this.preload()];case 1:return(e=t.sent())&&e.success&&this.isAdAvailable?[2,this.showAd()]:[2,e];case 2:return[2,this.showAd()]}}))}))},t.prototype.reset=function(){if(e.prototype.reset.call(this),this.adShownPromise){var t={success:!0,code:y.COMPLETED};this.adShownPromise.resolve(t),this.adShownPromise=null}this.adPreloading&&(this.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to load ad")}),this.adPreloading=null)},t.prototype.canPreload=function(){return!0},t.prototype.showAd=function(){var t,i;return o(this,void 0,void 0,(function(){var n;return r(this,(function(o){switch(o.label){case 0:return[4,e.prototype.show.call(this)];case 1:return(n=o.sent())&&n.success?this.at?this.adShownPromise?(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": already showing ad")),[2,{success:!0,code:y.COMPLETED}]):(null===(i=this.tracker)||void 0===i||i.willShowAd(!0,this.getAdUnitCode(),this.getAdSlotTargeting()),this.at.click(),this.adShownPromise=new u,[2,this.adShownPromise.promise]):[2,{success:!1,code:b.ON_SHOW,message:"".concat(this.getFullName(),": missing required dom elements")}]:[2,n]}}))}))},t.prototype.addDOMElements=function(){var e=this,t=document.createElement("a");return t.id=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(),t.href="#",t.setAttribute("data-google-interstitial","true"),t.setAttribute("tabindex","-1"),t.onclick=function(){e.clearStorage()},document.body.appendChild(t)},t.prototype.clearStorage=function(){var e;try{localStorage.removeItem("__lsv__")}catch(t){null===(e=this.logger)||void 0===e||e.debug("".concat(this.getFullName(),": unable to clear storage"))}},t}(L),R=function(e){function t(t){var i=e.call(this,d.REWARD,t)||this;return i.rewardSlotEvent=null,i.skipped=!0,i.adShownPromise=null,i}return i(t,e),t.prototype.canPreload=function(){return!0},t.prototype.init=function(t,i,n){return o(this,void 0,void 0,(function(){var o=this;return r(this,(function(r){switch(r.label){case 0:return[4,e.prototype.init.call(this,t,i,n)];case 1:return r.sent(),window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("rewardedSlotReady",(function(e){o.rewardSlotEvent=e,o.adPreloading&&(o.adPreloading.resolve({success:!0,code:y.DELIVERED}),o.adPreloading=null)})),window.googletag.pubads().addEventListener("rewardedSlotGranted",(function(){o.skipped=!1})),window.googletag.pubads().addEventListener("rewardedSlotClosed",(function(){var e,t;if(o.isAdAvailable=!1,null===(e=o.logger)||void 0===e||e.debug("".concat(o.getFullName(),": ad closed, skipped? ").concat(o.skipped)),null===(t=o.tracker)||void 0===t||t.finishedAd(o.skipped?w.SKIPPED:w.SUCCESS,o.getAdUnitCode()),o.adShownPromise){var i={success:!0,code:o.skipped?y.DELIVERED:y.COMPLETED};o.adShownPromise.resolve(i),o.adShownPromise=null}o.skipped=!0,o.rewardSlotEvent=null}))})),[2]}}))}))},t.prototype.preload=function(){var t;return o(this,void 0,void 0,(function(){var i,n=this;return r(this,(function(o){switch(o.label){case 0:return[4,e.prototype.preload.call(this)];case 1:return(i=o.sent())&&i.success?this.adPreloading?(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": already loading an ad")),[2,{success:!0,code:y.DELIVERED}]):(this.rewardSlotEvent=null,this.skipped=!0,window.googletag.cmd.push((function(){var e,t;try{window.googletag.pubads().setRequestNonPersonalizedAds(n.getUserP4Consent()?0:1),window.googletag.pubads().setPrivacySettings({limitedAds:!n.getUserP1Consent()}),window.googletag.destroySlots([n.adSlot]),n.adSlot=window.googletag.defineOutOfPageSlot(n.getAdUnitCode(),window.googletag.enums.OutOfPageFormat.REWARDED),n.adSlot.addService(window.googletag.pubads()),n.setTargeting(),null===(e=n.tracker)||void 0===e||e.requestingAd(n.getAdUnitCode()),window.googletag.pubads().refresh([n.adSlot])}catch(e){n.reset(),null===(t=n.logger)||void 0===t||t.error({success:!1,code:b.ON_LOAD,message:JSON.stringify(e)}),n.adPreloading&&(n.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(n.getFullName(),": unable to send request to ad server - ").concat(e)}),n.adPreloading=null)}})),this.adPreloading=new u,[2,this.adPreloading.promise]):[2,i]}}))}))},t.prototype.show=function(){return o(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return this.isAdAvailable?[3,2]:[4,this.preload()];case 1:return(e=t.sent())&&e.success&&this.isAdAvailable?[2,this.showAd()]:[2,e];case 2:return[2,this.showAd()]}}))}))},t.prototype.reset=function(){if(e.prototype.reset.call(this),this.adShownPromise){var t={success:!0,code:this.skipped?y.DELIVERED:y.COMPLETED};this.adShownPromise.resolve(t),this.adShownPromise=null}this.adPreloading&&(this.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to load ad")}),this.adPreloading=null)},t.prototype.showAd=function(){var t,i;return o(this,void 0,void 0,(function(){var n;return r(this,(function(o){switch(o.label){case 0:return[4,e.prototype.show.call(this)];case 1:return(n=o.sent())&&n.success?this.adShownPromise?(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": already showing ad")),[2,{success:!0,code:y.COMPLETED}]):this.rewardSlotEvent?(null===(i=this.tracker)||void 0===i||i.willShowAd(!0,this.getAdUnitCode()),this.rewardSlotEvent.makeRewardedVisible(),this.adShownPromise=new u,[2,this.adShownPromise.promise]):[2,{success:!1,code:b.ON_SHOW,message:"".concat(this.getFullName(),": failed to render ad")}]:[2,n]}}))}))},t}(L),N=function(){function e(e){this.wrapperElement=null,this.videoElement=null,this.adElement=null,this.playing=!1,this.videoPlayerConfig=null,this.onToggleCallbacks=[],this.toggleVideoElement=null,this.videoPlayerConfig=e,this.createHTMLElements()}return e.prototype.createHTMLElements=function(){var e=this;this.wrapperElement=c.stringToHTMLElement("<div></div>");var t='<div><video id="'+this.videoPlayerConfig.id+'" width="'+this.getPlayerWidth()+'px" height="'+this.getPlayerHeight()+'px" playsinline></video></div>',i=c.stringToHTMLElement(t);this.videoElement=i.firstChild,this.adElement=c.stringToHTMLElement("<div style='position: absolute; top:0; min-width: 100%; min-height: 100%;'></div>"),this.toggleVideoElement=c.stringToHTMLElement("<button title='Play/Pause' style='position: absolute;left: 20px;bottom: 20px;height: 40px;width: 100px;font-weight: bold;font-size: 25px; font-family: sans-serif !important; opacity: 0.5;background-color: #fff;border-radius: 5px;border: 1px transparent solid;color: #000;cursor: pointer;line-height: 0;'>II</button>"),this.toggleVideoElement.onclick=function(){e.toggled()},this.wrapperElement.appendChild(i),this.wrapperElement.appendChild(this.adElement),this.wrapperElement.appendChild(this.toggleVideoElement)},e.prototype.toggled=function(){var e=this;this.playing?this.toggleVideoElement.textContent=String.fromCharCode(9654):this.toggleVideoElement.textContent="II",this.onToggleCallbacks&&this.onToggleCallbacks.length>0&&this.onToggleCallbacks.forEach((function(t){try{t(e.playing)}catch(e){console.error(e)}})),this.playing=!this.playing},e.prototype.paused=function(){this.playing=!1,this.toggleVideoElement.textContent=String.fromCharCode(9654)},e.prototype.resumed=function(){this.playing=!0,this.toggleVideoElement.textContent="II"},e.prototype.resize=function(){this.videoElement&&(this.videoElement.setAttribute("width",this.getPlayerWidth()+"px"),this.videoElement.setAttribute("height",this.getPlayerHeight()+"px"))},e.prototype.getVideoHTMLElement=function(){return this.videoElement},e.prototype.getAdContainerHTMLElement=function(){return this.adElement},e.prototype.getHTMLWrapper=function(){return this.wrapperElement},e.prototype.isPlaying=function(){return this.playing},e.prototype.getPlayerWidth=function(){return this.videoPlayerConfig.width||c.getBrowserWidth()},e.prototype.getPlayerHeight=function(){return this.videoPlayerConfig.height||c.getBrowserHeight()},e.prototype.onToggle=function(e){this.onToggleCallbacks.push(e)},e}(),O=function(e){function t(t,i){var n=e.call(this,t,S.VIDEO,i)||this;return n.adsManager=null,n.adsLoader=null,n.adContainer=null,n.skipped=!0,n.isIMAReady=!1,n.adShownPromise=null,n.adPreloading=null,n.videoPlayer=null,n}return i(t,e),t.prototype.init=function(i,n,s){return o(this,void 0,void 0,(function(){var o=this;return r(this,(function(r){switch(r.label){case 0:return[4,e.prototype.init.call(this,i,n,s)];case 1:return r.sent(),c.onIMAReady().then((function(){o.isIMAReady=!0})),this.videoPlayer=t.buildVideoPlayer(this.adUnit,d.INTERSTITIAL===this.getType()||d.REWARD===this.getType()),this.videoPlayer&&(this.videoPlayer.onToggle((function(e){o.adsManager&&(e?o.adsManager.pause():o.adsManager.resume())})),c.addPrebidAdUnit(this.adUnit),this.config.pageUrl&&c.setPrebidPageUrl(this.config.pageUrl)),[2]}}))}))},t.prototype.preload=function(){var t,i,s,a,d;return o(this,void 0,void 0,(function(){var o,l,h,p,g,f,v,m,w,A,P=this;return r(this,(function(r){switch(r.label){case 0:return[4,e.prototype.preload.call(this)];case 1:if((o=r.sent())&&o.success){if(!this.isIMAReady)return null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": unable to preload, ima sdk isn't ready yet")),this.isAdAvailable=!1,this.isPreloadingAd=!1,[2,{success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to preload, ima sdk isn't ready yet")}];if(!this.adsLoader&&!this.initializeIMAComponents())return null===(i=this.logger)||void 0===i||i.debug("".concat(this.getFullName(),": unable to initialize ima")),this.isAdAvailable=!1,this.isPreloadingAd=!1,[2,{success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),":unable to initialize ima")}];if(this.adPreloading)return null===(s=this.logger)||void 0===s||s.debug("".concat(this.getFullName(),": already loading an ad")),[2,{success:!0,code:y.DELIVERED}];l=this.adUnit,h=c.generateUUID(),p=this.config.customTargeting||{},g={aps:!1,apsVideoTargeting:null,prebid:!1},f=function(){g.aps&&g.prebid&&v(m())},v=function(e){try{var t=new window.google.ima.AdsRequest;t.adTagUrl=e,P.config.pageUrl&&(t.pageUrl=P.config.pageUrl),t.linearAdSlotWidth=P.adUnit.mediaTypes.video.playerSize[0],t.linearAdSlotHeight=P.adUnit.mediaTypes.video.playerSize[1],P.adsLoader.requestAds(t)}catch(e){P.isAdAvailable=!1,P.isPreloadingAd=!1,P.logger.error("".concat(P.getFullName(),": unable to send request to ad server - ").concat(e)),P.adPreloading&&(P.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(P.getFullName(),": unable to send request to ad server - ").concat(e)}),P.adPreloading=null)}},m=function(){var e,t,i,o,r=g.apsVideoTargeting?c.parseParameters(decodeURIComponent(g.apsVideoTargeting)):{},s={iu:P.getAdUnitCode(),cust_params:n(n(n({},p),{hb_aid:h}),r),output:"vast",vpmute:P.getVolume()>0?0:1};(null===(t=null===(e=P.adUnit.mediaTypes)||void 0===e?void 0:e.video)||void 0===t?void 0:t.maxduration)&&(s.max_ad_duration=1e3*P.adUnit.mediaTypes.video.maxduration),(null===(o=null===(i=P.adUnit.mediaTypes)||void 0===i?void 0:i.video)||void 0===o?void 0:o.minduration)&&(s.min_ad_duration=1e3*P.adUnit.mediaTypes.video.minduration),P.adUnit.mediaTypes.video.startdelay||(P.adUnit.mediaTypes.video.startdelay=0),P.config.pageUrl&&(s.url=P.config.pageUrl,s.description_url=P.config.pageUrl);var a=window.pbjs.adServers.dfp.buildVideoUrl({adUnit:l,params:s});return P.getUserP1Consent()||(a+="&ltd=1"),P.getUserP4Consent()||(a+="&npa=1"),P.getDeviceIdTargeting()&&(a+="&"+c.toUrlQueryParameters(P.getDeviceIdTargeting())),P.ppid&&(a+="&ppid=".concat(P.ppid)),a},w=function(){if(!(P.adUnit&&P.adUnit.bids&&P.adUnit.bids.length&&window.pbjs))return g.prebid=!0,void f();window.pbjs.que.push((function(){var e={auctionId:h,adUnits:[l],timeout:P.adUnit.timeout,bidsBackHandler:function(){window.pbjs.initAdserverSet=!0,g.prebid=!0,f()}};try{window.pbjs.requestBids(e)}catch(e){g.prebid=!0,f()}}))},A=function(){if(!(P.adUnit&&P.adUnit.uam&&window.apstag))return g.aps=!0,void f();var e=c.adUnitPath2NetworkAndCode(P.getAdUnitCode());if(!e)return g.aps=!0,void f();var t,i={slotID:(t=e.code,t.replaceAll("_","").replaceAll("-","_")),slotName:e.code,mediaType:"video"};window.apstag.fetchBids({slots:[i],timeout:P.adUnit.timeout},(function(e){g.aps=!0,e&&e[0]&&(g.apsVideoTargeting=e[0].encodedQsParams),f()}))};try{null===(a=this.tracker)||void 0===a||a.requestingAd(this.getAdUnitCode(),{hb_aid:h}),w(),A()}catch(e){return null===(d=this.logger)||void 0===d||d.error(e),[2]}return this.adPreloading=new u,[2,this.adPreloading.promise]}return[2,o]}}))}))},t.prototype.show=function(){var t,i;return o(this,void 0,void 0,(function(){var n;return r(this,(function(o){switch(o.label){case 0:return[4,e.prototype.show.call(this)];case 1:return(n=o.sent())&&n.success?this.adShownPromise?(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": already showing ad")),[2,{success:!0,code:y.COMPLETED}]):(null===(i=this.tracker)||void 0===i||i.willShowAd(!0,this.getAdUnitCode(),this.getAdSlotParams()),this.adsManager.setVolume(this.getVolume()),this.adsManager.start(),this.adShownPromise=new u,[2,this.adShownPromise.promise]):[2,n]}}))}))},t.prototype.reset=function(){if(e.prototype.reset.call(this),this.adsManager&&this.adsManager.destroy(),this.videoPlayer&&this.videoPlayer.resize(),this.adShownPromise){var t={success:!0,code:this.skipped?y.DELIVERED:y.COMPLETED};this.adShownPromise.resolve(t),this.adShownPromise=null}if(this.adPreloading){t={success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to preload ad")};this.adPreloading.resolve(t),this.adPreloading=null}},t.prototype.canPreload=function(){return!0},t.prototype.isReady=function(){return c.isIMAPresent()},t.prototype.isShowingAd=function(){return!!this.adShownPromise},t.prototype.initializeIMAComponents=function(){var e,t,i=this;if(!c.isIMAPresent())return null===(e=this.logger)||void 0===e||e.debug("".concat(this.getFullName(),": ima sdk not present")),!1;try{return window.google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.adContainer=new window.google.ima.AdDisplayContainer(this.videoPlayer.getAdContainerHTMLElement(),this.videoPlayer.getVideoHTMLElement()),this.adContainer.initialize(),this.adsLoader=new window.google.ima.AdsLoader(this.adContainer),this.adsLoader.getSettings().setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.INSECURE),this.adsLoader.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){var t=new window.google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.adsManager=e.getAdsManager(i.videoPlayer.getVideoHTMLElement(),t),i.adsManager.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,i.handleIMAError.bind(i)),i.adsManager.addEventListener(window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED,i.handleIMAEvent.bind(i)),i.adsManager.addEventListener(window.google.ima.AdEvent.Type.LOADED,i.handleIMAEvent.bind(i)),i.adsManager.addEventListener(window.google.ima.AdEvent.Type.COMPLETE,i.handleIMAEvent.bind(i)),i.adsManager.addEventListener(window.google.ima.AdEvent.Type.SKIPPED,i.handleIMAEvent.bind(i)),i.adsManager.addEventListener(window.google.ima.AdEvent.Type.STARTED,i.handleIMAEvent.bind(i)),i.adsManager.addEventListener(window.google.ima.AdEvent.Type.CLICK,i.handleIMAEvent.bind(i)),i.adsManager.addEventListener(window.google.ima.AdEvent.Type.PAUSED,i.handleIMAEvent.bind(i)),i.adsManager.addEventListener(window.google.ima.AdEvent.Type.RESUMED,i.handleIMAEvent.bind(i));try{i.adsManager.init(i.videoPlayer.getPlayerWidth(),i.videoPlayer.getPlayerHeight(),window.google.ima.ViewMode.FULLSCREEN)}catch(e){i.handleIMAError(e)}}),!1),this.adsLoader.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,this.handleIMAError.bind(this),!1),!0}catch(e){null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": unable to initialize ima components - ").concat(e))}return!1},t.prototype.handleIMAEvent=function(e){var t,i;switch(e.type){case window.google.ima.AdEvent.Type.LOADED:null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": ad filled")),this.isAdAvailable=!0,this.isPreloadingAd=!1,null===(i=this.tracker)||void 0===i||i.receivedAdResponse(m.SUCCESS,this.getAdUnitCode(),this.getAdSlotParams()),this.adsLoader.__cad=e.getAd(),this.adPreloading&&(this.adPreloading.resolve({success:!0,code:y.DELIVERED}),this.adPreloading=null);break;case window.google.ima.AdEvent.Type.SKIPPED:this.skipped=!0,this.adClosed();break;case window.google.ima.AdEvent.Type.COMPLETE:this.skipped=!1,this.adClosed();break;case window.google.ima.AdEvent.Type.STARTED:this.skipped=!0,this.videoPlayer.resumed();break;case window.google.ima.AdEvent.Type.RESUMED:this.videoPlayer.resumed();break;case window.google.ima.AdEvent.Type.PAUSED:this.videoPlayer.paused();break;case window.google.ima.AdEvent.Type.CLICK:this.adsManager&&this.videoPlayer&&this.videoPlayer.isPlaying()&&(this.videoPlayer.paused(),this.adsManager.pause())}},t.prototype.handleIMAError=function(e){var t,i;if(e&&e.getError&&e.getError().getErrorCode&&1009===e.getError().getErrorCode())return null===(t=this.tracker)||void 0===t||t.receivedAdResponse(m.NOFILL,this.getAdUnitCode(),this.getAdSlotParams()),this.skipped=!0,this.isAdAvailable=!1,this.isPreloadingAd=!1,void(this.adPreloading&&(this.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to preload ad")}),this.adPreloading=null));if(this.adShownPromise){var n={success:!1,code:b.ON_SHOW,message:"".concat(e&&e.getError&&e.getError().getMessage?e.getError().getMessage():"")};this.adShownPromise.resolve(n),this.adShownPromise=null}this.adPreloading&&(this.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to preload ad")}),this.adPreloading=null),null===(i=this.logger)||void 0===i||i.error("".concat(this.getFullName(),": ").concat(e&&e.getError&&e.getError().getMessage?e.getError().getMessage():"unknown error")),this.reset()},t.prototype.adClosed=function(){var e,t;if(null===(e=this.logger)||void 0===e||e.debug("".concat(this.getFullName(),": ad closed, skipped? ").concat(this.skipped)),null===(t=this.tracker)||void 0===t||t.finishedAd(this.skipped?w.SKIPPED:w.SUCCESS,this.getAdUnitCode(),this.getAdSlotParams()),this.isAdAvailable=!1,this.videoPlayer.paused(),this.adShownPromise){var i={success:!0,code:this.skipped?y.DELIVERED:y.COMPLETED};this.adShownPromise.resolve(i),this.adShownPromise=null}},t.prototype.getAdSlotParams=function(){return this.adsLoader&&this.adsLoader.params?this.adsLoader.params:{}},t.buildVideoPlayer=function(e,t){var i={id:c.isFunction(e.code)?e.code():e.code};return t||(i.width=e.mediaTypes.video.playerSize[0],i.height=e.mediaTypes.video.playerSize[1]),new N(i)},t}(U),k=function(){function e(e){this.contentElement=null,this.modalElement=null,this.createHTMLElements(e)}return e.prototype.createHTMLElements=function(e){var t=document.createElement("div");t.style.cssText="visibility: hidden; position: fixed;top: 0;left: 0;height: 100%;width: 100%;z-index: 9223372036854775807;background-color: rgba(0,0,0,0.85);";var i=document.createElement("div");t.appendChild(i),i.style.cssText="display: flex; align-items: center; justify-content: center; height: 100%; width: 100%; margin: 0; padding: 0; outline: none;";var n=document.createElement("div");if(i.appendChild(n),n.style.cssText="position: relative; margin: 0; outline: none; background-color: #fff; box-shadow: 0px 8px 12px rgb(60 64 67 / 15%), 0px 4px 4px rgb(60 64 67 / 30%); border-radius: 5px;",e){var o=document.createElement("div");n.appendChild(o),o.style.cssText="width: 100%; display: table; height: 24px; background-color: #fff; margin: 0; padding: 0; outline: none;border-radius: 5px 5px 0px 0px;";var r=document.createElement("div");o.appendChild(r),r.style.cssText="float: left; display: table; transition: opacity 1s, background .75s; -webkit-transition: opacity 1s, background .75s; -moz-transition: opacity 1s, background .75s; -o-transition: opacity 1s, background .75s; background: transparent; color: #fff; padding-bottom: 10px; padding-top: 10px;",r.innerHTML="<div style=\"font-size: 14px; font-weight: 700; font-family: 'Roboto', arial, sans-serif; color: #202124; position: relative; height: 25px; padding: 2px 16px 0; float: left; display: table-cell; vertical-align: middle; text-align: center; line-height: 25px;\"> Ad </div>";var s=document.createElement("div");o.appendChild(s),s.style.cssText="color: black; opacity: 0.95; padding: 12px 20px 0; float: right; display: table-cell;vertical-align: middle;",s.setAttribute("aria-label","Close"),s.setAttribute("tabindex","1"),s.innerHTML='<div style="cursor: pointer; display: table-cell;vertical-align: middle;"><svg viewBox="0 0 48 48" fill="#5F6368" style="height: 1.5em; width: 1.5em; margin-left: -0.5em; margin-right: -0.5em; vertical-align: middle; padding-bottom: 1px;"><path d="M38 12.83L35.17 10 24 21.17 12.83 10 10 12.83 21.17 24 10 35.17 12.83 38 24 26.83 35.17 38 38 35.17 26.83 24z"></path><path d="M0 0h48v48H0z" fill="none"></path></svg></div>',s.onclick=this.close.bind(this)}var a=document.createElement("div");n.appendChild(a),a.style.cssText="transition: opacity 1s; -webkit-transition: opacity 1s; position: relative; margin: 0; padding: 0; outline: none; font-size: 0",this.contentElement=a,this.modalElement=t,document.body.appendChild(this.modalElement)},e.prototype.close=function(){this.modalElement.style.visibility="hidden"},e.prototype.show=function(){this.modalElement.style.visibility="visible"},e.prototype.addContent=function(e){var t=document.createElement("div");t.appendChild(e);var i=t.firstChild;return this.contentElement.appendChild(i),i},e.prototype.deleteCreativeContent=function(){this.contentElement.innerHTML=""},e}(),M=function(e){function t(t){var i=e.call(this,d.INTERSTITIAL,t)||this;return i.modal=null,i}return i(t,e),t.prototype.init=function(t,i,n){return o(this,void 0,void 0,(function(){return r(this,(function(o){switch(o.label){case 0:return[4,e.prototype.init.call(this,t,i,n)];case 1:return o.sent(),this.modal=new k(!1),this.modal.addContent(this.videoPlayer.getHTMLWrapper()),[2]}}))}))},t.prototype.show=function(){return o(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return this.isAdAvailable?[3,2]:[4,this.preload()];case 1:return(e=t.sent()).success&&this.isAdAvailable?[2,this.showAd()]:[2,e];case 2:return[2,this.showAd()]}}))}))},t.prototype.showAd=function(){return o(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:this.isAdAvailable&&!this.isShowingAd()&&this.modal.show(),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,e.prototype.show.call(this)];case 2:return[2,t.sent()];case 3:return this.isShowingAd()||this.modal.close(),[7];case 4:return[2]}}))}))},t.prototype.reset=function(){e.prototype.reset.call(this),this.modal.close()},t}(O),_=function(e){function t(t){var i=e.call(this,d.REWARD,t)||this;return i.modal=null,i}return i(t,e),t.prototype.init=function(t,i,n){return o(this,void 0,void 0,(function(){return r(this,(function(o){switch(o.label){case 0:return[4,e.prototype.init.call(this,t,i,n)];case 1:return o.sent(),this.modal=new k(!1),this.modal.addContent(this.videoPlayer.getHTMLWrapper()),[2]}}))}))},t.prototype.show=function(){return o(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return this.isAdAvailable?[3,2]:[4,this.preload()];case 1:return(e=t.sent()).success&&this.isAdAvailable?[2,this.showAd()]:[2,e];case 2:return[2,this.showAd()]}}))}))},t.prototype.showAd=function(){return o(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:this.isAdAvailable&&!this.isShowingAd()&&this.modal.show(),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,e.prototype.show.call(this)];case 2:return[2,t.sent()];case 3:return this.isShowingAd()||this.modal.close(),[7];case 4:return[2]}}))}))},t.prototype.reset=function(){e.prototype.reset.call(this),this.modal.close()},t}(O),F=function(e){function t(t){var i=e.call(this,d.BANNER,S.DISPLAY,t)||this;return i.banners=[],i}return i(t,e),t.prototype.init=function(t,i,n){return o(this,void 0,void 0,(function(){var o,s=this;return r(this,(function(r){switch(r.label){case 0:return[4,e.prototype.init.call(this,t,i,n)];case 1:return r.sent(),this.adUnits?(o=[],this.adUnits.forEach((function(e){var i=JSON.parse(JSON.stringify(t));i.config.adUnit=e,i.config.adUnits=null;var n=new x(c.isTabVisible,s.logger);o.push(n.init(i,s.controls,s.tracker).then((function(){s.banners.push(n)}),(function(e){var t;null===(t=s.logger)||void 0===t||t.error(e)})))})),[4,Promise.allSettled(o).then((function(){return s.isAdAvailable=!0}))]):[3,3];case 2:r.sent(),this.scheduledRefresh(),r.label=3;case 3:return[2]}}))}))},t.prototype.show=function(){return o(this,void 0,void 0,(function(){var t,i,n,o;return r(this,(function(r){switch(r.label){case 0:return[4,e.prototype.show.call(this)];case 1:if(!(t=r.sent()).success||!this.banners)return[3,5];r.label=2;case 2:return r.trys.push([2,4,,5]),i=this.banners.filter((function(e){return e.isVisible()&&e.isRefreshable()})),n=i.map((function(e){return e.show()})),this.auction(i),[4,Promise.all(n)];case 3:return r.sent(),[3,5];case 4:return o=r.sent(),[2,{success:!1,code:b.ON_SHOW,message:o.message}];case 5:return[2,t]}}))}))},t.prototype.auction=function(e){var t,i,n=this;if(e&&!(e.length<1)){var o={aps:!1,prebid:!1},r=Math.max.apply(Math,e.map((function(e){return e.getAdUnit().timeout}))),s=c.generateUUID(),a=function(){o.aps&&o.prebid&&d()},d=function(){window.googletag.cmd.push((function(){var t;window.googletag.pubads().setRequestNonPersonalizedAds(n.getUserP4Consent()?0:1),window.googletag.pubads().setPrivacySettings({limitedAds:!n.getUserP1Consent()}),e.forEach((function(e){return e.setTargeting({hb_aid:s})}));var i=e.map((function(e){return e.getAdSlot()})).filter((function(e){return e}));try{window.googletag.pubads().refresh(i)}catch(i){return e.forEach((function(e){return e.reset()})),void(null===(t=n.logger)||void 0===t||t.error(i))}}))};try{null===(t=this.tracker)||void 0===t||t.requestingAd(this.getFullName(),{hb_aid:s}),function(){var t=e.map((function(e){return e.getAdUnit()})).filter((function(e){return e&&e.bids&&e.bids.length}));if(!(t&&t.length&&window.pbjs))return o.prebid=!0,void a();window.pbjs.que.push((function(){var e={auctionId:s,adUnits:t,timeout:r,bidsBackHandler:function(){window.googletag.cmd.push((function(){window.pbjs.initAdserverSet=!0,o.prebid=!0,window.pbjs.setTargetingForGPTAsync(),a()}))}};try{window.pbjs.requestBids(e)}catch(e){o.prebid=!0,a()}}))}(),function(){var t=e.map((function(e){return e.getAdUnit()})).filter((function(e){return e&&e.uam})).map((function(e){return c.toUAMAdUnit(e)}));if(!(t&&t.length&&window.apstag))return o.aps=!0,void a();window.apstag.fetchBids({slots:t,timeout:r},(function(){window.googletag.cmd.push((function(){window.apstag.setDisplayBids(),o.aps=!0,a()}))}))}()}catch(e){return void(null===(i=this.logger)||void 0===i||i.error(e))}}},t.prototype.scheduledRefresh=function(){var e=this;setTimeout((function(){return o(e,void 0,void 0,(function(){var e=this;return r(this,(function(t){return window.pbjs.que.push((function(){window.googletag.cmd.push((function(){e.show().finally((function(){return e.scheduledRefresh()}))}))})),[2]}))}))}),200)},t.prototype.canPreload=function(){return!1},t.prototype.reset=function(){},t.prototype.isReady=function(){return!0},t}(U),x=function(e){function t(t,i){var n=e.call(this,d.BANNER,i)||this;return n.adShownPromise=null,n.refreshInterval=31e3,n.lastRefreshed=null,n.impressionViewed=!1,n.isTabVisible=t,n}return i(t,e),t.prototype.init=function(t,i,n){return o(this,void 0,void 0,(function(){var o=this;return r(this,(function(r){switch(r.label){case 0:return[4,e.prototype.init.call(this,t,i,n)];case 1:return r.sent(),this.adUnit.refresh&&(this.refreshInterval=this.adUnit.refresh),window.googletag.cmd.push((function(){var e,t;if(window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t;if(o.adSlot===e.slot){if(o.adShownPromise){var i={success:!0,code:y.COMPLETED};o.adShownPromise.resolve(i),o.adShownPromise=null,o.impressionViewed=!!e.isEmpty}null===(t=o.tracker)||void 0===t||t.finishedAd(e.isEmpty?w.NOFILL:w.SUCCESS,o.getAdUnitCode(),o.getAdSlotTargeting())}})),window.googletag.pubads().addEventListener("impressionViewable",(function(e){o.adSlot===e.slot&&(o.impressionViewed=!0)})),o.adSlot=window.googletag.defineSlot(o.getAdUnitCode(),null===(t=null===(e=o.adUnit.mediaTypes)||void 0===e?void 0:e.banner)||void 0===t?void 0:t.sizes,o.getAdUnitCode()),!o.adSlot)throw o.isInitialized=!1,new Error("unable to create banner ad slot");o.adSlot.addService(window.googletag.pubads()),c.addPrebidAdUnit(o.adUnit)})),[2]}}))}))},t.prototype.show=function(){var t,i;return o(this,void 0,void 0,(function(){var n;return r(this,(function(o){switch(o.label){case 0:return this.isAdAvailable=!0,[4,e.prototype.show.call(this)];case 1:return(n=o.sent())&&n.success?this.adShownPromise?(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": already fetching ad")),[2,{success:!1,code:b.ON_SHOW,message:"".concat(this.getFullName(),": already fetching ad")}]):(null===(i=this.tracker)||void 0===i||i.willShowAd(!0,this.getAdUnitCode(),this.getAdSlotTargeting()),this.lastRefreshed=new Date,this.adShownPromise=new u,[2,this.adShownPromise.promise]):[2,n]}}))}))},t.prototype.reset=function(){if(this.adShownPromise){var e={success:!0,code:y.COMPLETED};this.adShownPromise.resolve(e),this.adShownPromise=null}},t.prototype.canPreload=function(){return!1},t.prototype.getAdSlotHTMLElement=function(){var e;if(this.getAdUnitCode())try{return null===(e=null===window||void 0===window?void 0:window.document)||void 0===e?void 0:e.getElementById(this.getAdUnitCode())}catch(e){return null}},t.prototype.getAdUnit=function(){return this.adUnit},t.prototype.getAdSlot=function(){return this.adSlot},t.prototype.isVisible=function(){return this.adSlot&&c.isHTMLElementVisible(this.getAdSlotHTMLElement())},t.prototype.isRefreshable=function(){return null==this.lastRefreshed||(new Date).getTime()-this.lastRefreshed.getTime()>this.refreshInterval&&this.impressionViewed&&this.isTabVisible()},t}(L),V=function(e){function t(t,i){var n=e.call(this,null!=i?i:d.REWARD,S.SURVEY,t)||this;return n.skipped=!0,n.adShownPromise=null,n.adPreloading=null,n.eventFields=null,n}return i(t,e),t.prototype.init=function(t,i,s){return o(this,void 0,void 0,(function(){return r(this,(function(o){switch(o.label){case 0:return[4,e.prototype.init.call(this,t,i,s)];case 1:return o.sent(),window.pollfishConfig=n(n({},window.pollfishConfig||{}),{ready:function(){},surveyAvailable:this.onSurveyAvailable.bind(this),surveyNotAvailable:this.onSurveyNotAvailable.bind(this),surveyCompletedCallback:this.onSurveyCompleted.bind(this),userNotEligibleCallback:this.onUserDisqualified.bind(this),closeAndNoShowCallback:this.onSurveyCloseAndNoShow.bind(this),closeCallback:this.onSurveyClose.bind(this)}),c.pollfishLoaded&&!this.isAdAvailable&&this.preload(),[2]}}))}))},t.prototype.isReady=function(){return c.pollfishLoaded},t.prototype.canPreload=function(){return!0},t.prototype.reset=function(){if(e.prototype.reset.call(this),this.adPreloading&&(this.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to load ad")}),this.adPreloading=null),this.adShownPromise){var t={success:!0,code:this.skipped?y.DELIVERED:y.COMPLETED};window.Pollfish.hide(),this.adShownPromise.resolve(t),this.adShownPromise=null}},t.prototype.preload=function(){var t,i,n;return o(this,void 0,void 0,(function(){var o;return r(this,(function(r){switch(r.label){case 0:return[4,e.prototype.preload.call(this)];case 1:return(o=r.sent())&&o.success?(this.adPreloading&&(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": already loading an ad")),this.adPreloading.promise),this.skipped=!0,null===(i=this.tracker)||void 0===i||i.requestingAd(this.getAdUnitCode()),null===(n=window.Pollfish)||void 0===n||n.restart(window.pollfishConfig),this.adPreloading=new u,[2,this.adPreloading.promise]):[2,o]}}))}))},t.prototype.show=function(){var e;return o(this,void 0,void 0,(function(){var t;return r(this,(function(i){switch(i.label){case 0:return this.isAdAvailable||!(null===(e=this.config)||void 0===e?void 0:e.blocking)?[3,2]:[4,this.preload()];case 1:return(t=i.sent())&&t.success&&this.isAdAvailable?[2,this.showAd()]:[2,t];case 2:return[2,this.showAd()]}}))}))},t.prototype.showAd=function(){var t,i;return o(this,void 0,void 0,(function(){var n;return r(this,(function(o){switch(o.label){case 0:return[4,e.prototype.show.call(this)];case 1:return(n=o.sent())&&n.success?this.adShownPromise?(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": already showing survey")),[2,this.adShownPromise.promise]):this.isAdAvailable?(c.overridePollfishContainerZIndex(2147483647),null===(i=this.tracker)||void 0===i||i.willShowAd(!0,this.getAdUnitCode()),window.Pollfish.showFullSurvey(),this.adShownPromise=new u,[2,this.adShownPromise.promise]):[2,{success:!1,code:b.ON_SHOW,message:"".concat(this.getFullName(),": failed to render survey")}]:(n&&!n.success&&!this.isAdAvailable&&this.isInitialized&&this.preload(),[2,n])}}))}))},t.prototype.onSurveyAvailable=function(e){var t,i;this.isAdAvailable=!0,this.isPreloadingAd=!1,this.adPreloading&&(this.adPreloading.resolve({success:!0,code:y.DELIVERED}),this.adPreloading=null),null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": ad filled")),this.eventFields={cpm:10*e.revenue,duration:e.survey_loi},null===(i=this.tracker)||void 0===i||i.receivedAdResponse(m.SUCCESS,this.getAdUnitCode(),this.eventFields)},t.prototype.onSurveyNotAvailable=function(){var e,t;this.isAdAvailable=!1,this.isPreloadingAd=!1,this.eventFields=null,this.adPreloading&&(this.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to load ad")}),this.adPreloading=null),null===(e=this.logger)||void 0===e||e.debug("".concat(this.getFullName(),": unable to load ad")),null===(t=this.tracker)||void 0===t||t.receivedAdResponse(m.NOFILL,this.getAdUnitCode())},t.prototype.onSurveyCompleted=function(){this.skipped=!1,this.isAdAvailable=!1},t.prototype.onUserDisqualified=function(){this.skipped=!0,this.isAdAvailable=!1},t.prototype.onSurveyCloseAndNoShow=function(){this.skipped=!0,this.onSurveyClose()},t.prototype.onSurveyClose=function(){var e,t;if(null===(e=this.logger)||void 0===e||e.debug("".concat(this.getFullName(),": survey closed, skipped? ").concat(this.skipped)),null===(t=this.tracker)||void 0===t||t.finishedAd(this.skipped?w.SKIPPED:w.SUCCESS,this.getAdUnitCode(),this.eventFields),this.skipped||(this.eventFields=null),this.adShownPromise){var i={success:!0,code:this.skipped?y.DELIVERED:y.COMPLETED};this.adShownPromise.resolve(i),this.adShownPromise=null}},t}(U),j=function(e){function t(t){return e.call(this,t,d.SURVEY)||this}return i(t,e),t}(V),z=function(){function e(){this.bootstrapMapper={"fran#display#interstitial":{f:e.bootstrapDisplayInterstitial,Type:D},"fran#display#reward":{f:e.bootstrapDisplayReward,Type:R},"fran#display#banner":{f:e.bootstrapDisplayBanner,Type:F},"fran#video#interstitial":{f:e.bootstrapVideoAdProvider,Type:M},"fran#video#reward":{f:e.bootstrapVideoAdProvider,Type:_},"fran#survey#reward":{f:e.bootstrapSurveyAdProvider,Type:V},"fran#survey#survey":{f:e.bootstrapSurveyAdProvider,Type:j}}}return e.prototype.bootstrap=function(e,t){var i=this;e=e||{};var n=[];return t.forEach((function(t){t in i.bootstrapMapper&&(n.push(new i.bootstrapMapper[t].Type),i.bootstrapMapper[t].f(e))})),n},e.bootstrapDisplayInterstitial=function(e){c.loadGPT(e.gpt),c.loadApsTag(e.uam),c.loadPrebid(e.prebid),c.initializePrebid(e.prebid)},e.bootstrapDisplayReward=function(e){c.loadGPT(e.gpt)},e.bootstrapDisplayBanner=function(e){c.loadGPT(e.gpt),c.loadApsTag(e.uam),c.loadPrebid(e.prebid),c.initializePrebid(e.prebid)},e.bootstrapVideoAdProvider=function(e){c.loadIMA(e.ima),c.loadApsTag(e.uam),c.loadPrebid(e.prebid),c.initializePrebid(e.prebid)},e.bootstrapSurveyAdProvider=function(e){c.loadPollfish(e.pollfish)},e}(),H=function(){function e(){}return e.prototype.ensureInit=function(e){var t=this;if(!this.adProviders)if(this.isFranConfigured(e)){var i=e.vendors.fran,n=e.providers.map((function(e){return t.expandProviderAdUnitCode(e.config),e.name+"#"+e.type})),o=new z;this.adProviders=o.bootstrap(i,n)}else this.adProviders=[]},e.prototype.getProviders=function(e){return this.ensureInit(e),this.adProviders},e.prototype.setDeviceId=function(e){var t;null===(t=this.adProviders)||void 0===t||t.forEach((function(t){return t.setDeviceId(e)}))},e.prototype.setVolume=function(e){var t;null===(t=this.adProviders)||void 0===t||t.forEach((function(t){return t.setVolume(e)}))},e.prototype.setUserP1Consent=function(e){var t;null===(t=this.adProviders)||void 0===t||t.forEach((function(t){return t.setUserP1Consent(e)}))},e.prototype.setUserP4Consent=function(e){var t;null===(t=this.adProviders)||void 0===t||t.forEach((function(t){return t.setUserP4Consent(e)}))},e.prototype.setVendorConsents=function(e){var t;null===(t=this.adProviders)||void 0===t||t.forEach((function(t){return t.setVendorConsents(e)}))},e.prototype.setChannelId=function(e){this.channelId=e},e.prototype.isFranConfigured=function(e){var t;return null!=(null===(t=null==e?void 0:e.vendors)||void 0===t?void 0:t.fran)&&null!=(null==e?void 0:e.providers)},e.prototype.expandProviderAdUnitCode=function(t){var i=this,n=function(t){if(t&&t.code&&i.channelId){var n=e.PARTNER_ID+"-"+i.channelId,o=i.isFunction(t.code)?t.code():t.code,r=o.split("/").pop();t.code=o.replace(r,n+"-"+r)}};t&&t.adUnit&&n(t.adUnit),t&&t.adUnits&&t.adUnits.forEach((function(e){return n(e)}))},e.prototype.isFunction=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},e.PARTNER_ID="frvr",e}(),q=function(){function e(e){this.logger=e}return e.prototype.init=function(){return o(this,void 0,void 0,(function(){return r(this,(function(e){return[2]}))}))},e.prototype.setProgress=function(e){var t,i=(100*e).toFixed(1);null===(t=this.logger)||void 0===t||t.info("[channel-web] progress: ".concat(i,"%"))},e.prototype.complete=function(){var e;return o(this,void 0,void 0,(function(){return r(this,(function(t){return null===(e=this.logger)||void 0===e||e.info("[channel-web] complete"),[2]}))}))},e}(),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.code="USER_INPUT",t.message="User rejected prompt to add to home screen",t}return i(t,e),t}(Error),B=function(){function e(e,t){this.logger=e,this.tracker=t,this.calledAlready=!1}return e.prototype.init=function(){return o(this,void 0,void 0,(function(){var e=this;return r(this,(function(t){return"serviceWorker"in navigator&&(navigator.serviceWorker.register("./service-worker.js").then((function(t){var i;null===(i=e.logger)||void 0===i||i.debug("ServiceWorker registration successful with scope: ",t.scope)}),(function(t){var i;null===(i=e.logger)||void 0===i||i.debug("ServiceWorker registration failed: ",t)})),window.addEventListener("beforeinstallprompt",(function(t){var i,n;return null===(i=e.logger)||void 0===i||i.debug("beforeinstallprompt event received: ",t),e.installPromptEvent||(null===(n=e.tracker)||void 0===n||n.logEvent("PWA Before Install Prompt",{}),t.preventDefault(),e.installPromptEvent=t),!1}))),[2]}))}))},e.prototype.canCreateShortcut=function(){return o(this,void 0,void 0,(function(){return r(this,(function(e){return[2,!!this.installPromptEvent&&!this.calledAlready]}))}))},e.prototype.createShortcut=function(){var e,t,i,n;return o(this,void 0,void 0,(function(){var o;return r(this,(function(r){switch(r.label){case 0:return null===(e=this.tracker)||void 0===e||e.logEvent("PWA Install Prompt",{}),this.calledAlready=!0,[4,this.installPromptEvent.prompt()];case 1:if(o=r.sent(),null===(t=this.logger)||void 0===t||t.debug("PWA Install Prompt returned: ",o),"accepted"!==o.outcome)throw null===(n=this.tracker)||void 0===n||n.logEvent("PWA Dismissed",{}),new W;return null===(i=this.tracker)||void 0===i||i.logEvent("PWA Installed",{}),[2]}}))}))},e}(),G=function(){function e(){}return e.prototype.isIOS=function(){return/(ipod|iphone|ipad)/i.test(navigator.userAgent)||/(Macintosh)/i.test(navigator.userAgent)&&"ontouchend"in document},e.prototype.isAndroid=function(){return/(android)/i.test(navigator.userAgent)&&!/(Windows)/i.test(navigator.userAgent)},e.prototype.configure=function(e){this.config=e},e.prototype.needsConfiguration=function(){return!0},e.prototype.canMoveToMobile=function(){var e,t;return o(this,void 0,void 0,(function(){return r(this,(function(i){return(this.isIOS()&&(null===(e=this.config)||void 0===e?void 0:e.iosAppId)||this.isAndroid())&&(null===(t=this.config)||void 0===t?void 0:t.id)?[2,!0]:[2,!1]}))}))},e.prototype.moveToMobile=function(){return o(this,void 0,void 0,(function(){var e,t;return r(this,(function(i){return e=this.config,this.isIOS()?window.location.href="https://apps.apple.com/app/"+(null==e?void 0:e.id)+"/id"+(null==e?void 0:e.iosAppId)+"?mt=1":this.isAndroid()&&(t="https://play.google.com/store/apps/details?id=com.frvr."+(null==e?void 0:e.id),navigator&&navigator.getInstalledRelatedApps?navigator.getInstalledRelatedApps().then((function(i){i.length>0?window.location.href="intent://".concat(null==e?void 0:e.id,"/#Intent;scheme=frvr;package=com.frvr.").concat(null==e?void 0:e.id,";end"):window.location.href=t})).catch((function(){console.warn("Related Apps API is not supported. Redirecting to Google Play."),window.location.href=t})):window.location.href=t),[2]}))}))},e}(),J=function(){function t(e,t){this.pixelId=e,this.logger=t,this.hasInitEventBeenSent=!1}return t.prototype.init=function(e){return o(this,void 0,void 0,(function(){var i=this;return r(this,(function(n){return this.addFacebookMetaPixelQueue(),e.onConsentChanged((function(e){(e&t.REQUIRED_CONSENT_FLAGS)===t.REQUIRED_CONSENT_FLAGS&&i.addFacebookMetaPixelLoader()})),[2]}))}))},t.prototype.getName=function(){return"metapixel"},t.prototype.send=function(e,t,i,n){switch(e){case"page_loading":this.fbqTrack("PageView");break;case"iap_request_payment_success":this.fbqTrack("Purchase",{currency:i.currencyCode,value:i.priceValue})}},t.prototype.fbqTrack=function(e,t){var i,n,o;window.fbq?(this.hasInitEventBeenSent||(null===(n=this.logger)||void 0===n||n.debug("[metapixel-analytics] tracking fbq event","init",this.pixelId),window.fbq("init",this.pixelId),this.hasInitEventBeenSent=!0),null===(o=this.logger)||void 0===o||o.debug("[metapixel-analytics] tracking fbq event",e,t),void 0!==t?window.fbq("track",e,t):window.fbq("track",e)):null===(i=this.logger)||void 0===i||i.error("[metapixel-analytics] window.fbq not found, enqueueing event")},t.prototype.addFacebookMetaPixelQueue=function(){var e;if(!window.fbq){null===(e=this.logger)||void 0===e||e.debug("[metapixel-analytics] installing metapixel queue");this.appendScript("\n    !function(f,b,e,v,n,t,s)\n    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n    n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n    n.queue=[];}(window, document,'script',\n    'https://connect.facebook.net/en_US/fbevents.js');\n    ")}},t.prototype.addFacebookMetaPixelLoader=function(){var e;if(!this.hasScriptLoaderBeenAppended){null===(e=this.logger)||void 0===e||e.debug("[metapixel-analytics] installing metapixel loader");this.appendScript("\n    !function(f,b,e,v,n,t,s)\n    {t=b.createElement(e);t.async=!0;\n    t.src=v;s=b.getElementsByTagName(e)[0];\n    s.parentNode.insertBefore(t,s)}(window, document,'script',\n    'https://connect.facebook.net/en_US/fbevents.js');\n    "),this.hasScriptLoaderBeenAppended=!0}},t.prototype.appendScript=function(e){var t=document.createElement("script"),i=document.createTextNode(e);t.appendChild(i),window.document.getElementsByTagName("head")[0].appendChild(t)},t.REQUIRED_CONSENT_FLAGS=e.ConsentOptions.P4PersonalizedAds|e.ConsentOptions.P5PersonalizedContentProfile|e.ConsentOptions.P7MeasureAdPerformance,t}(),K=function(){function e(t,i,n,o){this.channelId=t,this.platformId=i,this.gameId=n,this.remoteUrl=null!=o?o:e.DEFAULT_REMOTE_ADS_CONFIG_URL}return e.prototype.get=function(){return o(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:if(!(this.gameId&&this.platformId&&this.channelId))throw new Error("gameId, platformId and channelId are required to retrieve remote ads config");return[4,fetch(this.getRemoteConfigUrl())];case 1:if(!(e=t.sent()).ok)throw new Error(e.statusText);return[4,e.json()];case 2:return[2,t.sent()]}}))}))},e.prototype.getRemoteConfigUrl=function(){return this.remoteUrl.replace("{GAME}",this.gameId).replace("{PLATFORM}",this.platformId).replace("{CHANNEL}",this.channelId)},e.DEFAULT_REMOTE_ADS_CONFIG_URL="https://fran-cdn.frvr.com/configs/ads/{GAME}/{PLATFORM}/{CHANNEL}/sdk.json",e}();!function(){for(var e=[],t=0;64>t;)e[t]=0|4294967296*Math.abs(Math.sin(++t))}();var Q=function(){function e(e,t){this.auth=t,this.baseUrl=e.replace(/\/$/,"")}return e.prototype.getAllPlayerObjects=function(e,t,i){var n;return o(this,void 0,void 0,(function(){var o,s,a;return r(this,(function(r){switch(r.label){case 0:return o=new URLSearchParams,void 0!==i&&o.set("keys",null!=i?i:""),s=o.toString(),[4,null===(n=this.auth)||void 0===n?void 0:n.authenticatedFetch("".concat(this.baseUrl,"/player/").concat(e,"/").concat(t,"?").concat(s),{method:"GET",headers:{"Content-Type":"application/json"}})];case 1:if(!(a=r.sent()).ok)throw new Y(a);return[4,a.json()];case 2:return[2,r.sent()]}}))}))},e.prototype.createPlayerObject=function(e,t,i){var n;return o(this,void 0,void 0,(function(){var o;return r(this,(function(r){switch(r.label){case 0:return[4,null===(n=this.auth)||void 0===n?void 0:n.authenticatedFetch("".concat(this.baseUrl,"/player/").concat(e,"/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})];case 1:if(!(o=r.sent()).ok)throw new Y(o);return[4,o.json()];case 2:return[2,r.sent()]}}))}))},e.prototype.updatePlayerObject=function(e,t,i,n){var s;return o(this,void 0,void 0,(function(){var o;return r(this,(function(r){switch(r.label){case 0:return[4,null===(s=this.auth)||void 0===s?void 0:s.authenticatedFetch("".concat(this.baseUrl,"/player/").concat(e,"/").concat(t,"/").concat(i),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})];case 1:if(!(o=r.sent()).ok)throw new Y(o);return[4,o.json()];case 2:return[2,r.sent()]}}))}))},e.prototype.deletePlayerObject=function(e,t,i,n){var s;return o(this,void 0,void 0,(function(){var o;return r(this,(function(r){switch(r.label){case 0:return[4,null===(s=this.auth)||void 0===s?void 0:s.authenticatedFetch("".concat(this.baseUrl,"/player/").concat(e,"/").concat(t,"/").concat(i),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})];case 1:if(!(o=r.sent()).ok)throw new Y(o);return[4,o.json()];case 2:return[2,r.sent()]}}))}))},e}(),Y=function(e){function t(t){var i=e.call(this,t.statusText)||this;return i.response=t,i.response=t,i.name="ResponseError",i}return i(t,e),t}(Error),Z={prod:"https://crucible.frvr.com/v1/storage",staging:"https://staging.crucible.frvr.com/v1/storage"},X=function(){function e(e,t){var i,n,o,r=this,s=(null==e?void 0:e.env)||"prod",a=null!==(i=null==e?void 0:e.overrideURL)&&void 0!==i?i:Z[s];this.gameId=e.gameId,this.logger=null==t?void 0:t.logger,this.auth=t.auth,null===(n=this.logger)||void 0===n||n.log("[frvr-sdk] Player Storage for game ".concat(this.gameId," on ").concat(a));var d=null!==(o=t.clientBuilder)&&void 0!==o?o:function(e){return new Q(e,r.auth)};this.client=d(a,this.auth)}return e.prototype.setItems=function(e){return o(this,void 0,void 0,(function(){var t,i=this;return r(this,(function(n){switch(n.label){case 0:return t=e.map((function(e){return i.upsertItem(e.key,e.value)})),[4,Promise.allSettled(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.getItems=function(e){return o(this,void 0,void 0,(function(){var t,i;return r(this,(function(n){switch(n.label){case 0:return[4,this.client.getAllPlayerObjects(this.getUserId(),this.gameId,e.join(","))];case 1:return t=n.sent(),i=t.items.map((function(e){return[e.key,e.data]})),[2,Object.fromEntries(i)]}}))}))},e.prototype.removeItems=function(e){return o(this,void 0,void 0,(function(){var t,i,n=this;return r(this,(function(o){switch(o.label){case 0:return t=this.getUserId(),i=e.map((function(e){return n.client.deletePlayerObject(t,n.gameId,e,void 0)})),[4,Promise.allSettled(i)];case 1:return o.sent(),[2]}}))}))},e.prototype.isPersistent=function(){return!0},e.prototype.getAllItems=function(){return o(this,void 0,void 0,(function(){var e,t;return r(this,(function(i){switch(i.label){case 0:return[4,this.client.getAllPlayerObjects(this.getUserId(),this.gameId)];case 1:return e=i.sent(),t=e.items.map((function(e){return[e.key,e.data]})),[2,Object.fromEntries(t)]}}))}))},e.prototype.upsertItem=function(e,t){return o(this,void 0,void 0,(function(){var i;return r(this,(function(n){switch(n.label){case 0:i=this.getUserId(),n.label=1;case 1:return n.trys.push([1,3,,5]),[4,this.client.updatePlayerObject(i,this.gameId,e,{version:void 0,data:t})];case 2:return n.sent(),[3,5];case 3:return n.sent(),[4,this.client.createPlayerObject(i,this.gameId,{key:e,data:t})];case 4:return n.sent(),[3,5];case 5:return[2]}}))}))},e.prototype.getUserId=function(){return this.auth.getFRVRID()},e}(),$=function(){function t(t,i){this.adConfigProvider=t,this.fran=i,this.adConfigProvider=t,this.fran=null!=i?i:new H,this.fran.setChannelId(e.inMemoryChannelMapper.getChannel()),this.characteristics=n(n({},e.defaultCharacteristics),{hasDedicatedLoadingScreen:!1})}return t.prototype.onModulesUpdated=function(e){var t=e.logger,i=e.tracker;this.logger=t,this.tracker=i},t.prototype.setConfig=function(e){var t=e.gameId;this.gameId=t},t.prototype.getId=function(){return"web"},t.prototype.getBootstrapper=function(){return new q(this.logger)},t.prototype.getConsentProvider=function(){return A},t.prototype.getAnalyticsProviders=function(t){var i,n={pixelId:null===(i=null==t?void 0:t.metapixel)||void 0===i?void 0:i.pixelId},o=n.pixelId&&new J(n.pixelId);return s([new e.FRVRAnalytics],o?[o]:[],!0)},t.prototype.getAnalyticsIDProvider=function(t){return new e.WebIDProvider(t)},t.prototype.getAdsProviders=function(e){return s([],this.fran.getProviders(e),!0)},t.prototype.getShortcutProvider=function(){return new B(this.logger,this.tracker)},t.prototype.getLocalStorageProvider=function(){return e.buildStorageProvider([e.WebLocalStorageProvider.providerName,f.providerName])},t.prototype.getCloudStorageProvider=function(e,t){return o(this,void 0,void 0,(function(){return r(this,(function(i){return[2,new X(n({gameId:this.gameId},null==t?void 0:t.playerStorage),{auth:e,logger:this.logger})]}))}))},t.prototype.getTrackerContextProvider=function(t){return e.buildTrackerWebContextProvider(t)},t.prototype.getCrossplay=function(){return new G},t.prototype.getCharacteristics=function(){return this.characteristics},t.prototype.getAdsConfig=function(t){var i;return o(this,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:if(!this.adConfigProvider){if(!this.gameId)throw new Error("Game ID is not set");this.adConfigProvider=new K(e.inMemoryChannelMapper.getChannel(),this.getId(),this.gameId)}if(n=t,!(null==t?void 0:t.remote))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.adConfigProvider.get()];case 2:return n=r.sent(),[3,4];case 3:return o=r.sent(),null===(i=this.logger)||void 0===i||i.error(o),[3,4];case 4:return[2,n]}}))}))},t}();window.FRVR&&window.FRVR.setChannel(new $)}(FRVRSDK);
//# sourceMappingURL=frvr-channel-web.min.js.map
